COLOMBO - Violence raged across Sri Lanka late into the night on Monday, with five people dead and some 180 injured as prime minister Mahinda Rajapaksa quit after weeks of protests. Those killed in the worst unrest since the crisis began included a lawmaker from the ruling party who shot two people. Another ruling party politician gunned down two others. Earlier in the day, government supporters in the capital Colombo attacked with sticks and clubs opponents angry over Sri Lanka's worst economic crisis since the island nation's 1948 independence. "We were hit, the media were hit, women and children were hit," one witness said, asking not to be named, as dozens of people were admitted to hospital. US Ambassador Julie Chung tweeted that Washington condemned "the violence against peaceful protestors" and called for the Sri Lankan government "to conduct a full investigation, including the arrest & prosecution of anyone who incited violence". The clashes precipitated the resignation of prime minister Rajapaksa, the elder brother to President Gotabaya Rajapaksa. In stepping down, the premier said he was paving the way for a unity government. But it was unclear if the opposition would join any administration with Gotabaya Rajapaksa as president, and the resignation failed to assuage public anger. Retaliatory attacks by government opponents were reported across the island of 22 million people even after police declared an indefinite curfew. Thousands of protestors tried to storm the official residence of the prime minister in the capital, setting fire to a truck at the entrance as they breached the main gate. Police responded by firing tear gas and gunshots into the air from the residence where Mahinda Rajapaksa remained holed up. Witnesses saw several tear gas cannisters hit the US embassy compound across from the Temple Trees residence, a key symbol of state power in the South Asian island. Officials said the military deployed hundreds of troops to guard the outgoing premier and his aides at the building. SURROUNDED Elsewhere, ruling-party lawmaker Amarakeerthi Athukorala shot two people and then took his own life after a mob of anti-government protesters surrounded him outside Colombo, police said. Athukorala's bodyguard was also found dead at the scene, police said. Another ruling party politician who was not named opened fire on protesters in the southern town of Weeraketiya, killing two and wounding five, authorities said. Police reported that dozens of homes of ruling party politicians were attacked by angry mobs across the island, setting fire to houses and vehicles. Buses and trucks used by government loyalists to bring people to the capital earlier in the day were also targeted. Doctors at Colombo National Hospital, where more than 180 people were treated for injuries, intervened to rescue wounded government supporters, with soldiers breaking open locked gates. "They may be murderers, but for us they are patients who must be treated first," a doctor shouted at a mob blocking the entrance to the emergency unit. Crowds also attacked a museum devoted to the Rajapaksas in the family's ancestral village in the deep south of the island, razing it to the ground, police said. Several Rajapaksa homes were also torched in different parts of the country. A hotel in Negombo owned by a close associate of Mahinda Rajapaksa's children was set ablaze, along with a Lamborghini car parked inside. There were no casualties among foreign guests, police said. STATE OF EMERGENCY On Friday, the government imposed a state of emergency granting the military sweeping powers to arrest and detain people, after trade unions brought the country to a virtual standstill. The defence ministry said anti-government demonstrators were behaving in a "provocative and threatening manner" and disrupting essential services, in a statement on Sunday. Sri Lanka's crisis was sparked after the coronavirus pandemic hammered vital income from tourism and remittances, starving the country of foreign currency needed to pay off its debt and forcing the government to ban many imports. This led to severe shortages, runaway inflation and lengthy power blackouts. In April, the country announced it was defaulting on its $51 billion foreign debt. "Mahinda Rajapaksa likely read the writing on the wall and realised it was time to go," expert Michael Kugelman from the Wilson Center told AFP. "But until and unless President Rajapaksa steps down, no one - whether the masses in the streets or key political stakeholders - will be appeased."